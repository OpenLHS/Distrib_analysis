# Loading packages and setting up core variables --------------------------
# The package this.path is to automatically identify the script filename and deduce the node identifier.
# https://cran.r-project.org/package=this.path https://cran.r-project.org/web/packages/this.path/this.path.pdf
# It is NOT required to run the analysis. If the package is not available, the node identifier (variable k) will need to be set manually
# If the this.path package is not installed but you did set the node identifier manually below, you can safely ignore the R warning about the "this.path" package not being available.
# Insert the data node identifier here (integer >=0). If the this.path package is available, you can simply leave the default value (-1)
k <- -1
# Check if the package is installed
thispath_available <- require("this.path")
if (thispath_available) {
datafileslist <- list.files(pattern="Data_node_[[:digit:]]+.csv")
if (length(datafileslist) == 1) {
print("there is only one file")
filename <- datafileslist[[1]]
lastunders<- max(unlist(gregexpr("_",filename)))
k <- strtoi(substring(filename,lastunders,length(filename)-4))
print(k)
}
